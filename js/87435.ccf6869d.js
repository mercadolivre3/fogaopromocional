(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[87435],{23800:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var l=o(67627);o(96540);const n=e=>{let{color:t,i18n:o,srLabel:n}=e;return(0,l._)("svg",{"aria-hidden":n?void 0:!n,"aria-label":n||void 0,role:n?"img":void 0,width:"20",height:"20",viewBox:"0 0 20 20",fill:t},void 0,n&&(0,l._)("title",{},void 0,n),(0,l._)("path",{d:"M9.3998 9.39498V2.79498H10.5998V9.39498H17.1998V10.595H10.5998V17.195H9.3998V10.595H2.7998V9.39498H9.3998Z",fill:t}))};n.defaultProps={color:"rgba(0, 0, 0, 0.9)",srLabel:void 0}},81948:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var l=o(67627);o(96540);const n=e=>{let{color:t,i18n:o,srLabel:n}=e;return(0,l._)("svg",{"aria-hidden":n?void 0:!n,"aria-label":n||void 0,role:n?"img":void 0,width:"20",height:"20",viewBox:"0 0 20 20",fill:t},void 0,n&&(0,l._)("title",{},void 0,n),(0,l._)("path",{d:"M2.7998 10.595H17.1998V9.39502H2.7998V10.595Z",fill:t}))};n.defaultProps={color:"rgba(0, 0, 0, 0.9)",srLabel:void 0}},34359:(e,t,o)=>{"use strict";o.d(t,{cX:()=>re,lL:()=>N,lP:()=>M,mB:()=>q});var l=o(58168),n=o(80045),a=o(96540),i=o(5556),s=o(37808),r=o(20551),c=o(87569),d=o(73620),u=o(46942),p=o.n(u),m=o(92275),g=o(32126),f=o(57387),b=o(51037),v=o(89379);const h="ui-pdp-action-modal",_="message",T="vpp:modal:redirect",A="vpp:modal:closable-on",y="vpp:modal:closable-off",N="close=",E="nav:cp:redirecttologin",C=[N,E,T,A,y],{modals:I}=r.AA,x="small",k="full",S={isFetching:i.bool,autoHeight:i.bool,actionTooltip:(0,i.shape)({id:i.string,content:i.string,visible:i.bool}),children:i.node.isRequired,className:i.string,closeTrack:(0,i.shape)({melidata_event:(0,i.shape)({}),analytics_event:(0,i.shape)({})}),componentAsLabel:i.node,componentId:i.string,icon:i.node,label:(0,i.shape)({text:i.string.isRequired,color:i.string}),iconClassName:i.string,linkClassName:i.string,modalClassName:i.string,modalTitle:i.string,modalUrl:i.string,showCloseButton:i.bool,onOpenModal:i.func,onCloseModal:i.func,submitAction:i.func,submitText:i.string,cancelText:i.string,url:i.string,track:(0,i.shape)({melidata_event:(0,i.shape)({}),analytics_event:(0,i.shape)({})}),controlModalHeader:i.bool,messageId:i.string,buttonProps:(0,i.shape)({}),buttonDisabled:i.bool,showChevron:i.bool,closeModalLabel:i.string,maxHeight:i.number,maxWidth:i.number,isTradeIn:i.bool,backAction:i.func,showTooltipHandleMount:i.bool,redirectToLoginHandler:i.func,redirectToTargetHandler:i.func,customEventMessageHandler:i.func,modalActions:(0,i.shape)({}),tooltipProps:(0,i.shape)({}),shouldRefresh:i.bool},w=["text","dataTestId"],L=["text","dataTestId"],O=e=>{if(!(e&&Object.keys(e).length>0))return null;const t=(null==e?void 0:e.primary)||{},{text:o,dataTestId:i}=t,r=(0,n.A)(t,w),c=(null==e?void 0:e.secondary)||{},{text:d,dataTestId:u}=c,p=(0,n.A)(c,L);return{fixed:!1,primary:e.primary&&a.createElement(s.$n,(0,l.A)({"data-testid":i,hierarchy:"loud"},r),o),secondary:e.secondary&&a.createElement(s.$n,(0,l.A)({"data-testid":u,hierarchy:"transparent"},p),d)}},H=e=>{const t=document.querySelectorAll("body > header, body > main")||[];(0,r.jJ)(t,(t=>{t.classList[e?"add":"remove"]("with-scroll-bars-hidden")}))},R=["customRef"],M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>null;const o=o=>{let{customRef:i}=o,s=(0,n.A)(o,R);const r=(e=>{const t=(0,a.useRef)(null);return void 0===e?t:e})(i),d=(0,c.HZ)(),u=(0,a.useMemo)((()=>t(s,r,d)),[s,r,d]);return a.createElement(e,(0,l.A)({ref:r},s,u))};return o.displayName="WithBusinessLogic",o},P=["onClickButton","text"],$=e=>{let{onClickButton:t,text:o}=e,i=(0,n.A)(e,P);return a.createElement(s.$n,(0,l.A)({className:`${h}-button`,"data-testid":"action-modal-button",onClick:t},i),o)},D="ui-pdp-action-modal-content",G=e=>{let{children:t,className:o,modalClassName:l,extra:n,viewportHeightRatio:i}=e;const s=(0,a.useRef)();return(0,a.useEffect)((()=>{var e,t;const o=null===(e=s.current)||void 0===e?void 0:e.clientHeight,a=null===(t=s.current)||void 0===t?void 0:t.offsetTop,r=document.querySelector(`.${l}`);let c=0;if(r){const e=window.innerHeight;{const e=r.querySelector(".andes-modal__header");c=e?e.clientHeight:0}o<e*i-c&&(r.style.height=`${o+a+c+n}px`)}}),[n,l,s,i]),a.createElement("div",{className:p()(D,o,`${D}__container`),ref:s},t)};G.defaultProps={children:null,className:null,extra:10,viewportHeightRatio:.7};const B=e=>{let{autoHeight:t,isMobile:o,modalClassName:l,children:n}=e;return t&&!o?(0,d.A)(G,{modalClassName:l},void 0,n):n};var X;const Y=e=>{let{classnames:t,tooltipProps:o,shouldShowTooltip:n,target:i,onClickTooltip:s,icon:r,labelText:c,showChevron:u}=e;const{cnWrapper:p,cnIcon:f,cnLink:b}=t;return(0,d.A)("div",{className:p},void 0,a.createElement(m.m_,(0,l.A)({},o,{open:n}),(0,d.A)("a",{"data-testid":"action-modal-link",className:b,href:i,onClick:s},void 0,r&&(0,d.A)("div",{className:f},void 0,r),c,u&&(X||(X=(0,d.A)(g.I,{id:"chevron",className:"ui-pdp-icon--chevron-right"}))))))};var F;const U=(e,t)=>{const{autoHeight:o,buttonDisabled:n,buttonConfig:i,children:s,closeModalLabel:u,componentId:m,controlModalHeader:g,customEventMessageHandler:v,maxHeight:I,maxWidth:S,modalActions:w,modalClassName:L,modalTitle:R,modalUrl:M,onCloseModal:P,onOpenModal:D,redirectToLoginHandler:G,redirectToTargetHandler:X,showCloseButton:U,showTooltipHandleMount:q,tooltipConfig:V,url:W,shouldRefresh:K}=e,{tooltipProps:z,visible:Z}=V||{},[j,Q]=(0,a.useState)(!1),[J,ee]=(0,a.useState)(!1),[te,oe]=(0,a.useState)(!0),[le,ne]=(0,a.useState)(null!=Z?Z:null),[ae,ie]=(0,a.useState)(!0),[se,re]=(0,a.useState)(!1),[ce,de]=(0,a.useState)(K),[ue,pe]=(0,a.useState)(!0),[me,ge]=(0,a.useState)(!1),{staticProps:fe}=(0,c.HZ)(),{deviceType:be,isWebview:ve}=fe,he=(e=>"mobile"===e)(be),_e=(0,a.useCallback)((e=>{var t;j||n||(t=e,((null==t?void 0:t.ctrlKey)||(null==t?void 0:t.metaKey))&&W)||(null!=e&&e.preventDefault&&e.preventDefault(),he||H(!0),D&&D(e),Q(!0),ee(!0),oe(!0))}),[n,he,j,D,W]),Te=(0,a.useCallback)((()=>{Q(!1),ee(!1)}),[]),Ae=(0,a.useCallback)((e=>{Te(),he||H(!1),P&&P(e,{shouldRefresh:ce})}),[Te,he,P,ce]),ye=(0,a.useCallback)((e=>{const{data:t}=e,{target:o}=t||{},l="string"==typeof t?t:null==t?void 0:t.message;if(l&&(0,r.Xk)(C,l))switch(l){case N:Te();break;case E:G(t);break;case T:X(o);break;case A:ie(!0);break;case y:ie(!1)}else null==v||v(e,{redirected:me})}),[v,G,X,me,Te]);return(0,a.useEffect)((()=>{if(r.Sf.addEventListener)return j&&r.Sf.addEventListener(_,ye),()=>{r.Sf.removeEventListener(_,ye)}}),[j,ye]),(0,a.useEffect)((()=>{null!=z&&z.id&&null===le&&q&&ne(!0)}),[z,le,q]),(0,a.useImperativeHandle)(t,(()=>({setIsOpenModal:Q,setShowLoading:ee,setShouldShowCloseBtn:oe,setShouldShowTooltip:ne,setShouldBeClosable:ie,setScrolled:re,setShouldRefresh:de,setShouldShowTitle:pe,openModal:_e,hideModal:Te,setRedirected:ge})),[_e,Te]),a.createElement(a.Fragment,null,!!i&&a.createElement($,(0,l.A)({onClickButton:_e},i)),!!V&&Object.keys(V).length>0&&a.createElement(Y,(0,l.A)({},V,{shouldShowTooltip:le})),(0,d.A)(b.a,{actions:O(w),url:M,closeUrl:"",className:p()(`${h}__modal`,L,{[`${m}__modal`]:m,[`${h}__modal--no-title`]:!R||!ue,[`${h}__modal--no-close`]:!te}),open:j,onClose:e=>Ae({event:e}),onOpen:()=>ee(!1),title:R,type:he?k:x,showCloseButton:U&&te&&!ve,closeButtonSrLabel:u,headerControlled:g,headerControlledFlag:g&&se,maxWidth:S,maxHeight:I,closable:ae},void 0,(0,d.A)(B,{modalClassName:L,autoHeight:o,isMobile:he},void 0,J&&(F||(F=(0,d.A)(f.m,{modifier:"fullscreen",size:"large"}))),s)))},q=(0,a.forwardRef)(U);q.propTypes=S,q.defaultProps={isFetching:!1,autoHeight:!0,actionTooltip:null,className:null,closeTrack:null,componentAsLabel:null,componentId:null,icon:null,iconClassName:null,label:null,linkClassName:null,modalClassName:null,modalTitle:" ",modalUrl:null,updateShippingSummary:null,showCloseButton:!0,onOpenModal:null,onCloseModal:null,submitAction:null,submitText:null,cancelText:null,url:"",track:null,controlModalHeader:!1,messageId:null,buttonProps:null,buttonDisabled:!1,showChevron:!1,closeModalLabel:" ",maxHeight:null,maxWidth:null,isTradeIn:null,showTooltipHandleMount:!0,shouldRefresh:!1},q.displayName="ActionModalUI";const V=(e,t)=>{const{submitAction:o,submitText:l,isTradeIn:n,isFetching:a,cancelText:i}=e,s=()=>{var e,o,l,n;null===(e=t.current)||void 0===e||null===(o=e.setIsOpenModal)||void 0===o||o.call(e,!1),null===(l=t.current)||void 0===l||null===(n=l.setShowLoading)||void 0===n||n.call(l,!1)};return o&&l&&{fixed:!1,primary:{dataTestId:"variations-button",className:"ui-pdp-variations__modal__button",onClick:e=>{var l,a;o(e),n?s():null===(l=t.current)||void 0===l||null===(a=l.hideModal)||void 0===a||a.call(l)},hierarchy:"loud",disabled:a,text:l},secondary:i&&{dataTestId:"cancel-button",className:"ui-pdp-variations__modal__button cancel-button",onClick:()=>{s()},hierarchy:"transparent",disabled:a,text:i}}},W="nav:cp:loaded",K="nav:cp:update",z="nav:cp:close",Z="nav:cp:redirect",j="vip:shipping-calculator:refreshpage",Q="vip:shipping-calculator-modalbtn:show",J="vip:shipping-calculator-modalbtn:hide",ee="submit",te=[W,K,z,Z,j,"vip:shipping-calculator:update","vip:shipping-calculator:close",Q,J,ee],{mshops:{GUEST_ADDITIONAL_INFO:oe,CHO_GUEST_STYLE:le}}=r.AA,ne=(0,n.A)(r.AA.mshops,["GUEST_ADDITIONAL_INFO","CHO_GUEST_STYLE"]),{modals:ae}=r.AA,ie=e=>(t,o)=>{let{componentId:l,modalUrl:n,url:a,linkClassName:i,className:s="",iconClassName:c,componentAsLabel:d,actionTooltip:u,showChevron:m,icon:g,label:f}=t;const{cpCookie:b,page:v,site:_}=e,T=v||"vip",A=(0,r.hX)(u,p()(h,"__shipping_summary")),y=((e,t)=>{const o={target:e};return(0,r.wD)(o,t),o.target})(a,{modal:!1});return{classnames:{cnWrapper:p()(h,(0,r.$N)({platform:{id:_}})&&i===oe?`${s} ${le}`:s),cnIcon:p()(s,c,{[`${h}__icon`]:!d}),cnLink:p()(`${h}__link`,i)},tooltipProps:A,target:y,onClickTooltip:e=>{var t,a;const i=(0,r.$N)({platform:{id:_}})&&(l===ne.SHIPPING_COMPONENT||(null==n?void 0:n.includes(ae.SHIPPING)));null!=e&&e.target&&i&&(0,r.sx)((0,r.c2)(T,i,b)),null===(t=o.current)||void 0===t||null===(a=t.openModal)||void 0===a||a.call(t,e)},icon:g,labelText:(null==f?void 0:f.text)||d,showChevron:m}};const se=()=>setTimeout((()=>window.location.reload(!0)),0),re=M(q,((e,t,o)=>{const{staticProps:l,dependencies:n}=o,{site:a}=l,{APIService:i,HistoryService:s}=n,c=V(e,t),d=((e,t)=>{let{buttonProps:o,label:l}=e;return l&&o&&(0,v.A)((0,v.A)((0,v.A)({},o),{},{onClickButton:e=>{var o,l;return null===(o=t.current)||void 0===o||null===(l=o.openModal)||void 0===l?void 0:l.call(o,e)}},null!=o&&o.onClick?{onClickButton:null==o?void 0:o.onClick}:{}),{},{text:null==l?void 0:l.text})})(e,t),u=!d&&ie(l)(e,t),p=!(0,r.$N)({platform:{id:a}}),m=((e,t,o)=>(l,n)=>{let{shouldRefresh:a}=n;const{onCloseModal:i,modalUrl:s,closeTrack:c}=e;null!=l&&l.target&&(0,r.sx)(c),null==i||i(l),a&&o(),s&&(null==l?void 0:l.data)!==N&&t.back()})(e,s,se);return{modalActions:c,tooltipConfig:u,buttonConfig:d,showTooltipHandleMount:p,customEventMessageHandler:(o,l)=>{!function(e,t,o,l){const{controlModalHeader:n,meliplusUpsellingOnSuscription:a,meliplusOnDeliveryDayChange:i}=t,{redirected:s}=o,c=l.current||{},{setShouldShowCloseBtn:d,setShouldRefresh:u,setShowLoading:p,setScrolled:m,hideModal:g,setIsOpenModal:f,setRedirected:b}=c,{data:v}=e,{type:h,message:_,url:T,origin:A}=v;if(_)switch(_){case"vpp:meliplus:suscription":null==a||a();break;case"vpp:mdd:change":null==i||i()}if(n&&h&&(0,r.bj)("vip:modal-content:scrolled",h)&&(e.data.scrolled?m(!0):m(!1)),h&&(0,r.Xk)(te,h))switch(h){case Q:p(!1),d(!0),s&&g();break;case J:p(!0),d(!0);break;case W:p(!1),d(!0);break;case Z:b(!0),u(!0);break;case j:case K:u(!0);break;case ee:"undefined"!=typeof window&&T&&A&&"loyalty"===A&&(0,r.Dp)({target:T,currentLocation:window.location})&&(window.location=T);break;case z:f(!1),p(!1);break;default:g({event:e})}}(o,e,l,t)},onOpenModal:o=>{const{onOpenModal:l,componentId:n,track:a}=e;var i,s;((0,r.sx)(a),null==l||l(o),"shipping_summary"===n)&&(null===(i=t.current)||void 0===i||null===(s=i.setShouldShowTooltip)||void 0===s||s.call(i,!1))},onCloseModal:m,redirectToLoginHandler:e=>{try{i.redirectToLogin(e.itemId,"reviews","reviews")}catch(e){throw new Error(e)}},redirectToTargetHandler:e=>{e&&(0,r.Dp)({target:e,currentLocation:r.Sf.location})&&(r.Sf.location=e)}}}))},35421:(e,t,o)=>{const{Image:l,ImageProvider:n}=o(30168);e.exports=l,(t=e.exports).Image=l,t.ImageProvider=n},38221:(e,t,o)=>{var l=o(23805),n=o(10124),a=o(99374),i=Math.max,s=Math.min;e.exports=function(e,t,o){var r,c,d,u,p,m,g=0,f=!1,b=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var o=r,l=c;return r=c=void 0,g=t,u=e.apply(l,o)}function _(e){var o=e-m;return void 0===m||o>=t||o<0||b&&e-g>=d}function T(){var e=n();if(_(e))return A(e);p=setTimeout(T,function(e){var o=t-(e-m);return b?s(o,d-(e-g)):o}(e))}function A(e){return p=void 0,v&&r?h(e):(r=c=void 0,u)}function y(){var e=n(),o=_(e);if(r=arguments,c=this,m=e,o){if(void 0===p)return function(e){return g=e,p=setTimeout(T,t),f?h(e):u}(m);if(b)return clearTimeout(p),p=setTimeout(T,t),h(m)}return void 0===p&&(p=setTimeout(T,t)),u}return t=a(t)||0,l(o)&&(f=!!o.leading,d=(b="maxWait"in o)?i(a(o.maxWait)||0,t):d,v="trailing"in o?!!o.trailing:v),y.cancel=function(){void 0!==p&&clearTimeout(p),g=0,r=m=c=p=void 0},y.flush=function(){return void 0===p?u:A(n())},y}},10124:(e,t,o)=>{var l=o(9325);e.exports=function(){return l.Date.now()}},99374:e=>{e.exports=function(e){return e}},42762:(e,t,o)=>{"use strict";var l=o(46518),n=o(43802).trim;l({target:"String",proto:!0,forced:o(60706)("trim")},{trim:function(){return n(this)}})},91319:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>l});const l=o(14269).Ay},53149:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>l});const l=o(85647).Ay},9345:(e,t,o)=>{"use strict";o.d(t,{cX:()=>l.cX,lL:()=>l.lL,lP:()=>l.lP,mB:()=>l.mB});var l=o(34359)},72230:(e,t,o)=>{"use strict";o.d(t,{JU:()=>O,nM:()=>q});var l=o(96540),n=o(5556),a=o(73620),i=o(89379),s=o(58156),r=o.n(s),c=o(20551),d=o(37990),u=o(3803),p=o(32126),m=o(76197),g=o(46942),f=o.n(g),b=o(58168),v=o(69181);(0,n.shape)({initial_time:n.number.isRequired,total_milliseconds:n.number.isRequired,hours:n.number.isRequired,minutes:n.number.isRequired,pay_before_hour:n.number.isRequired,labels:(0,n.arrayOf)((0,n.shape)({id:n.string.isRequired,text:n.string.isRequired,color:n.string.isRequired,values:(0,n.shape)({})})).isRequired});const h="ui-pdp-promotions-pill-label",_=(0,n.shape)({id:n.string,alignment:n.string,accessibility_text:n.string});(0,n.shape)({text:n.string.isRequired,color:n.string.isRequired,bg_color:n.string,font_size:n.string,campaign:n.string,text_icon:_,position:n.string,tooltip_icon:_}),(0,n.shape)({id:n.string,state:n.string,closed:n.bool,storable:n.bool,body:(0,n.shape)({text:n.string})}),(0,n.shape)({id:n.string,state:n.string,closeable:n.bool,closed:n.bool,storable:n.bool,has_shadow:n.bool,change_color:n.bool,behaviour:n.string,tooltip_type:n.string,side:n.string,components:(0,n.arrayOf)((0,n.shape)({}))}),(0,n.shape)({melidata_event:(0,n.shape)({})});const{RIGHT:T}=c.AA.icon,A="ui-pdp-promotions-pill-label",y=e=>{let{label:t,target:o,padding:n}=e;const{text:i,text_icon:s,tooltip_icon:r}=t,c=o?(0,a.A)("a",{className:`${A}__target`,href:o},void 0,i):(0,a.A)("span",{className:`${A}__text`,style:{padding:n}},void 0,i),d=(null==s?void 0:s.alignment)||"left";return(0,a.A)("div",{className:`${A}__trigger`},void 0,s?((e,t,o)=>{const n=[(0,a.A)(m.$U,{className:`${A}__icon`,accessibilityText:null==o?void 0:o.accessibility_text,figure:l.createElement(p.I,o)}),t];return e===T?n.reverse():n})(d,c,s):c,r&&l.createElement(p.I,r))},N="ui-pdp-promotions-pill-label",{SIDE:E,TRIGGER:C}=u.Sl,I={X:-2,Y:16},x={X:-10,Y:0},k=e=>{let{label:t,andes_tooltip:o,mobile:n,firstPrint:a,handleOpen:i,handleClose:s,target:r,padding:c}=e;const d=l.createElement(y,{label:t,target:r,padding:c});if("VISIBLE"!==(null==o?void 0:o.state))return d;const p=n?{offsetX:I.X,offsetY:I.Y,trigger:C.CLICK,side:E.BOTTOM_LEFT}:{offsetX:x.X,offsetY:x.Y,trigger:C.HOVER,side:E.LEFT},{text:m,values:g}=(null==o?void 0:o.body)||{},f=g?v.I.jsx(m,g):m;return l.createElement(u.m_,(0,b.A)({id:"TOOLTIP_DESCRIPTION_RECOMENDED",className:`${N}__icon ${N}__tooltip`,content:f,closable:a,onOpen:i,onClose:s},p),d)},S=e=>{let{className:t,label:o,font_family:n,tooltip:s,andes_tooltip:p,target:m,mobile:g,padding:b,track:v}=e;const{color:_,bg_color:T,text_icon:A,font_size:y,campaign:N}=o,[E,C]=(0,l.useState)(!p.closed),[I,x]=(0,l.useState)(!1),S="tooltips-configuration",w="official_store_highlight_tooltip"===(null==p?void 0:p.id),L=(0,d.xx)({id:p.id,visible:E,storable:p.storable,cookieName:S});(0,l.useEffect)((()=>{if(w){const e=(0,c.Ri)(S);if(e){const t=r()(e,`${S}.${p.id}`,{view_cnt:0,close_cnt:0}),{close_cnt:o=0}=t;o>0&&(C(!1),x(!1))}}}),[p.id,w,v]);const O=(0,i.A)((0,i.A)({},(0,u.HS)(null,s)),{},{offsetX:-15});return(0,a.A)(u.T_,{tooltip:s?O:null},void 0,l.createElement("div",(e=>{let{bg_color:t,color:o,campaign:l,className:n,font_family:a,font_size:i,text_icon:s}=e;const r=t.includes("#")||t.includes("rgb"),d=(null==o?void 0:o.includes("#"))||(null==o?void 0:o.includes("rgb")),u={};return r&&(u.backgroundColor=t),d&&(u.color=o),{style:u,className:f()(h,l,n,(0,c.oR)(!r&&t),(0,c.op)(!d&&o),(0,c.mm)(i),(0,c.rK)(a),{[`${h}--with-icon`]:!!s})}})({bg_color:T,color:_,campaign:N,className:t,font_family:n,font_size:y,text_icon:A}),l.createElement(k,{label:o,andes_tooltip:p,mobile:g,firstPrint:I,handleOpen:()=>{v&&g&&(0,c.sx)(v)},handleClose:()=>{C(!1),x(!1),p.storable&&L(),g&&w&&null!=p&&p.track&&(0,c.sx)(null==p?void 0:p.track)},target:m,padding:b})))};S.defaultProps={className:"",label:{bg_color:null,campaign:null,font_size:"XXSMALL",text_icon:null},target:"",font_family:"SEMIBOLD",andes_tooltip:{id:"",state:"",closed:null,storable:null,body:{text:""}},padding:"",mobile:!1,track:null};const{RIGHT:w}=c.AA.icon,L="ui-pdp-promotions-pill-label",O=e=>{let{className:t,text:o,bg_color:n,font_size:i,font_family:s,campaign:r,color:d,text_icon:u}=e;const{alignment:g}=u||{};return(0,a.A)("div",{className:f()(L,r,t,(0,c.oR)(n),(0,c.op)(d),(0,c.mm)(i),(0,c.rK)(s),{[`${L}--with-icon`]:!!u})},void 0,u?l.createElement(l.Fragment,null,g===w&&(0,a.A)("span",{className:`${L}__text`},void 0,o),(0,a.A)(m.$U,{className:`${L}__icon`,figure:l.createElement(p.I,u)}),g!==w&&(0,a.A)("span",{className:`${L}__text`},void 0,o)):o)};O.defaultProps={className:"",campaign:null,bg_color:null,font_size:"XXSMALL",font_family:"SEMIBOLD"};const H=e=>{let{className:t,labels:o}=e;return(0,a.A)("div",{className:f()("ui-pdp-promotions-pill",t)},void 0,o.map((e=>l.createElement(O,(0,b.A)({},e,{key:`label-${e.text}`})))))};H.defaultProps={className:"",labels:[]};const{SIDE:R,TRIGGER:M}=u.Sl,P={X:-5,Y:32},$={X:-10,Y:12},D=e=>{let{namespace:t,tooltip:o,mobile:n}=e;const i=n?{offsetX:P.X,offsetY:P.Y,side:R.BOTTOM_LEFT}:{offsetX:$.X,offsetY:$.Y,side:R.LEFT};return l.createElement(u.m_,(0,b.A)({className:`${t}__tooltip ${t}__tooltip--${o.id}`,id:o.id,content:o.body.text,trigger:M.CLICK,storable:o.storable,visible:!0,mask:!0,maskClosable:!1},i),(0,a.A)("div",{className:`${t}__trigger-tooltip`}))},G="ui-pdp-promotions-pill",B=e=>{const t=r()(e,"label.padding.top",0),o=r()(e,"label.padding.bottom",0);return`${t}px ${r()(e,"label.padding.right",0)}px ${o}px ${r()(e,"label.padding.left",0)}px`},X=e=>r()(e,"margin.top",null),Y=e=>{let{className:t,tooltip:o,tag_action:n,description_action:i,mobile:s,viewport_track:r}=e;return(0,l.useEffect)((()=>{r&&(0,c.sx)(r)}),[r]),(0,a.A)("div",{className:f()(G,t),style:{marginTop:X(n)}},void 0,o&&(0,a.A)(D,{namespace:G,tooltip:o,mobile:s},o.id),n&&l.createElement(S,(0,b.A)({},n,{padding:B(n),key:`label-${n.label.text}`,mobile:s})),(null==i?void 0:i.label)&&l.createElement(S,(0,b.A)({},i,{padding:B(n),key:`label-${i.label.text}`,mobile:s})))};Y.defaultProps={tooltip:null,className:"",tag_action:null,description_action:null,mobile:!1,viewport_track:null};const F="ui-pdp-promotions-progress",U=e=>{let{className:t,progress:o,remaining:n}=e;const{percentage:i,label:s,color:r,bg_color:u,empty_color:p="MEDIUM_GRAY"}=o,{total_milliseconds:m,labels:g}=n,b=null==r?void 0:r.includes("#"),[v]=(0,l.useState)(Date.now()+m+c.OY),[h,_]=(0,l.useState)(m),[T,A,y]=(0,c.l5)(h,g)||[],N=null===A;return(0,d.$$)((()=>{_(v-Date.now())}),c.OY),(0,a.A)("div",{className:f()(F,t)},void 0,(0,a.A)("div",{className:f()(`${F}__bar`,(0,c.oR)(N?p:u))},void 0,!N&&(0,a.A)("div",{className:f()("progress",!b&&(0,c.oR)(r)),style:{width:`${i}%`,backgroundColor:b&&r}})),(0,a.A)("div",{className:`${F}__status`},void 0,!N&&(0,a.A)("span",{className:"sold"},void 0,null==s?void 0:s.text),(0,a.A)("span",{className:"remaining"},void 0,T,!N&&(0,a.A)("span",{className:"timer"},void 0,A),y)))};U.defaultProps={className:"",progress:null};const q=e=>{const{remaining:t,type:o}=e;return{promotions:null===t?l.createElement(H,e):null,highlights_information:l.createElement(Y,e),pill_information:l.createElement(H,e),progress_bar:l.createElement(U,e)}[o]||null};q.defaultProps={remaining:null,type:null}},3803:(e,t,o)=>{"use strict";o.d(t,{Sl:()=>_,m_:()=>N,ZI:()=>E,T_:()=>I,eU:()=>$,NX:()=>R,HS:()=>P,jZ:()=>O,u8:()=>k});var l=o(73620),n=o(96540),a=o(33431),i=o(20551),s=o(37990),r=o(58168),c=o(46942),d=o.n(c),u=o(6898),p=o(80045),m=o(40668),g=o(93568),f=(o(58156),o(89379)),b=o(87569),v=o(45025),h=o(76197);const _={SIDE:{TOP:"top",BOTTOM:"bottom",LEFT_TOP:"leftTop",RIGHT_TOP:"rightTop",BOTTOM_RIGHT:"bottomRight",BOTTOM_LEFT:"bottomLeft",TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",LEFT:"left",RIGHT:"right"},TYPE:{LIGHT:"light",DARK:"dark",HIGHLIGHT:"highlight"},TRIGGER:{CLICK:"click",HOVER:"hover",NO_TRIGGER:"no-trigger"}},{SIDE:T,TRIGGER:A,TYPE:y}=_,N=e=>{let{id:t,storable:o,onClose:r,className:c,title:d,content:u,side:p,trigger:m,close_track:g,track:f,visible:b,open:v,showCloseButton:h,closable:_,children:T,offsetX:A,offsetY:y,type:N,onOpen:E,mouseLeaveDelay:C}=e;const I=null!=v?v:b,x=_&&h,k=(0,s.xx)({id:t,visible:I,storable:o,cookieName:"tooltips-configuration"});(0,n.useEffect)((()=>{(0,i.Dm)(f)}),[f]);return(0,l.A)(a.Ay,{onClose:()=>{o&&k(),(0,i.sx)(g),r()},onOpen:E,className:c,title:d,content:u,side:p,trigger:m,open:I,closable:x,offsetX:A,offsetY:y,type:N.toLowerCase(),mouseLeaveDelay:C,appendTo:()=>document.body},`${m}-${t}`,T)};N.defaultProps={storable:!1,children:null,close_track:null,track:null,onClose:()=>{},onOpen:()=>{},title:"",offsetX:0,offsetY:0,trigger:A.HOVER,id:void 0,content:null,visible:void 0,open:void 0,closable:!0,showCloseButton:!0,type:y.LIGHT,mouseLeaveDelay:.1,side:T.TOP};const E=e=>{let{content:t,components:o,availableComponents:n}=e;return o?(0,l.A)(u.q,{availableComponents:n,initialState:{components:o},modifier:"tooltip"}):t};E.defaultProps={content:null,components:null};const{TRIGGER:C}=_,I=e=>{let{tooltip:t,className:o,children:a}=e;if(!t)return a;const s="FIXED"===t.behaviour,c=Boolean(t.content&&t.content.props&&t.content.props.information_tooltip);return n.createElement(N,(0,r.A)({className:d()(o,"ui-vpp-tooltip",(0,i.rc)(t.id)),trigger:s?C.NO_TRIGGER:C.HOVER,side:t.side,storable:t.storable,type:t.tooltip_type,id:t.id,track:t.track,close_track:t.close_track},s?{}:{open:null==t?void 0:t.visible},{closable:c?t.showCloseButton:"FIXED"===t.behaviour,content:(0,l.A)(E,{availableComponents:t.availableComponents,content:t.content,components:t.components}),offsetX:t.offsetX,offsetY:t.offsetY,mouseLeaveDelay:t.mouseLeaveDelay,onClose:t.onCloseTooltip||t.onClose}),a)};I.defaultProps={children:null,className:null,tooltip:null};const x=["tooltip"],k=(e,t)=>{const o=o=>{let{tooltip:a}=o,i=(0,p.A)(o,x);return(0,l.A)(I,{tooltip:a,className:t},void 0,n.createElement(e,i))};return o.defaultProps={tooltip:null},o.displayName=`withTooltipComponent(${(0,i.Mn)(e)})`,o};k.defaultProps={className:null};const S=(e,t)=>{"CONFIRM_SHIPPING_TOOLTIP"===e&&(localStorage.setItem("TOOLTIP_NO_FREE_SHIPPING",Math.floor(Date.now()/1e3)),t(!1))},w="ui-pdp__info-tooltip",L=e=>{let{information_tooltip:t,toggleVisibility:o}=e;return t?n.createElement(n.Fragment,null,n.createElement(g.G,(0,r.A)({as:"span"},t.label,{className:`${w}__text`})),(0,l.A)("div",{className:`${w}__ctas-container`},void 0,!(null==t||!t.primary_button)&&(0,l.A)(m.Ay,{size:"small","data-testid":"tooltip-button",onClick:()=>S(t.primary_button.action_type,o)},void 0,n.createElement(g.G,(0,r.A)({as:"span"},t.primary_button.label))),n.createElement(g.G,(0,r.A)({as:"a",href:t.primary_link.target,target:"_blank",className:d()(`${w}__link`,{[`${w}__withoutMargin`]:!(null!=t&&t.primary_button)})},t.primary_link.label)))):null};L.defaultProps={information_tooltip:null,toggleVisibility:null};function O(e,t){const[o,l]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{(0,i.TT)().then((()=>{const o=localStorage.getItem(e),n=o?Math.floor(Date.now()/1e3)-o:0;o&&t<0||(!o||n>t)&&l(!0)})).catch((()=>null))}),[e,t]),[o,l]}const H={desktop:"left",mobile:"bottom"};const R={};R.image_component=(0,i.aQ)(v.hw)(v.tP),R.label_component=(0,i.aQ)(g.G)(g.W),R.generic_info_row=(0,i.aQ)(h.$U)(h.i_);const M=(e,t)=>(0,l.A)(L,{information_tooltip:e,toggleVisibility:t}),P=(e,t)=>{const o=function(){const{staticProps:e}=(0,b.HZ)(),{deviceType:t}=e,o="desktop"===t;return{offsetX:o?-45:null,offsetY:o?1:null,side:H[t],trigger:"no-trigger",maskClosable:!1,mask:!0,behaviour:"FIXED"}}(),{offsetX:l,offsetY:n}=o,a=(null==e?void 0:e.time_frequency)||null,[i,s]=O("TOOLTIP_NO_FREE_SHIPPING",a);return t?(0,f.A)((0,f.A)({},t),{},{offsetX:l,offsetY:n,availableComponents:R}):e?(0,f.A)((0,f.A)({},o),{},{content:M(e,s),availableComponents:R,visible:!!e&&i,showCloseButton:!1},((e,t)=>{if(null!=e&&e.close_button){const{action_type:o}=e.close_button;return{onClose:()=>S(o,t),showCloseButton:!0}}return null})(e,s)||{}):null},$=e=>{const t=t=>{const{information_tooltip:o,tooltip:l}=t,a=P(o,l);return n.createElement(e,(0,r.A)({},t,{tooltip:a}))};return t.displayName="WithTooltipProps",t}}}]);
//# sourceMappingURL=87435.ccf6869d.js.map